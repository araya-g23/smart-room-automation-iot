<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Register | AutoSmart</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/main.css') }}"
    />
  </head>
  <script>
    // Auto-hide flash messages after 4 seconds
    setTimeout(() => {
      const flashes = document.querySelectorAll(".eg_flash");
      flashes.forEach((flash) => {
        flash.style.opacity = "0";
        flash.style.transform = "translateY(-6px)";
        setTimeout(() => flash.remove(), 300);
      });
    }, 4000);

    function eg_closeFlash(button) {
      const flash = button.parentElement;
      flash.style.opacity = "0";
      flash.style.transform = "translateY(-6px)";
      setTimeout(() => flash.remove(), 300);
    }
  </script>
  <body class="eg_loginPage">
    <div class="eg_loginWrapper">
      <!-- LEFT PANEL -->
      <div class="eg_loginLeft">
        <img
          src="{{ url_for('static', filename='images/logo.png') }}"
          alt="AutoSmart Logo"
          class="eg_loginLogo"
        />
        <h1>Create your account</h1>
        <p class="eg_loginSub">
          Register to access smart room monitoring and device control.
        </p>

        <ul class="eg_loginFeatures">
          <li>✔ Secure access control</li>
          <li>✔ Real-time monitoring</li>
          <li>✔ Full activity auditing</li>
        </ul>
      </div>

      <!-- RIGHT PANEL -->
      <div class="eg_loginRight">
        {% with messages = get_flashed_messages(with_categories=true) %} {% if
        messages %}
        <div class="eg_flashContainer">
          {% for category, message in messages %}
          <div class="eg_flash eg_flash{{ category|capitalize }}">
            {{ message }}
          </div>
          {% endfor %}
        </div>
        {% endif %} {% endwith %}
        <h2>Register</h2>

        <form method="POST" class="eg_loginForm">
          <label>Full name</label>
          <input type="text" name="full_name" required />

          <label>Username</label>
          <input type="text" name="username" required />

          <label>Email</label>
          <input type="email" name="email" required />

          <label>Password</label>
          <input type="password" name="password" required />

          <label>Confirm password</label>
          <input type="password" name="confirm_password" required />

          <button type="submit" class="eg_btn eg_btnPrimary eg_btnLarge">
            Register
          </button>

          <p class="eg_loginFooter">
            Already have an account?
            <a href="{{ url_for('login') }}">Login</a>
          </p>
        </form>
      </div>
    </div>
  </body>
</html>
